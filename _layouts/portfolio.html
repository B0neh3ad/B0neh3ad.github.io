<!doctype html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{ page.title }} - {{ site.title }}</title>

  <!-- Portfolio CSS -->
  <link rel="stylesheet" href="{{ '/assets/css/portfolio.css' | relative_url }}">

  <!-- ÌéòÏù¥ÏßÄÎ≥Ñ Ï∂îÍ∞Ä Ïä§ÌÉÄÏùº -->
  {% if page.custom_css %}
  {% for css in page.custom_css %}
  <link rel="stylesheet" href="{{ css }}">
  {% endfor %}
  {% endif %}
</head>

<body>
  <div class="portfolio-container">
    <header class="portfolio-header">
      <!-- Blog Navigation Links -->
      <div class="blog-nav-links">
        <a href="{{ '/' | relative_url }}" class="blog-nav-link">
          <span>Github blog</span>
        </a>
        <a href="https://velog.io/@b0neh3ad/posts" class="blog-nav-link" target="_blank">
          <span>Velog</span>
        </a>
      </div>

      <h1 class="portfolio-title">{{ page.title }}</h1>
      {% if page.subtitle %}
      <p class="portfolio-subtitle">{{ page.subtitle }}</p>
      {% endif %}
    </header>

    <main class="portfolio-content">
      <!-- About Me -->
      <div id="about-me">
        {{ page.about.main_primary | markdownify }}
        {{ page.about.main_secondary | markdownify }}
      </div>

      <!-- Ï£ºÏöî ÌîÑÎ°úÏ†ùÌä∏ -->
      <div class="portfolio-section" id="Ï£ºÏöî-ÌîÑÎ°úÏ†ùÌä∏">
        <h2 class="section-title">Ï£ºÏöî ÌîÑÎ°úÏ†ùÌä∏</h2>
        <div class="project-grid">
          {% for project in page.projects %}
            <div class="project-card" data-modal-id="modal-{{ project.id }}">
              <h3 class="project-title">{{ project.title }}</h3>
              <div class="project-period">{{ project.period }}</div>
              <div class="project-role">{{ project.role }}</div>
              <div class="project-tech">
                {% for tech in project.tech %}
                  <span class="tech-tag">{{ tech }}</span>
                {% endfor %}
              </div>
              <a href="{{ project.link }}" class="project-link" target="_blank">
                üîó ÏõπÏÇ¨Ïù¥Ìä∏ Î∞©Î¨∏
              </a>
            </div>
          {% endfor %}
        </div>
      </div>
      
      <!-- Î™®Îã¨Îì§ -->
      {% for project in page.projects %}
        <div class="project-modal" id="modal-{{ project.id }}">
          <div class="modal-content modal-large">
            <button class="modal-close">&times;</button>
            <div class="modal-flex">
              <div class="modal-left">
                <div class="modal-card-info">
                  <h3 class="project-title">{{ project.title }}</h3>
                  <div class="project-period">{{ project.period }}</div>
                  <div class="project-role">{{ project.role }}</div>
                  <div class="project-tech">
                    {% for tech in project.tech %}
                      <span class="tech-tag">{{ tech }}</span>
                    {% endfor %}
                  </div>
                  <a href="{{ project.link }}" class="project-link" target="_blank">
                    üîó ÏõπÏÇ¨Ïù¥Ìä∏ Î∞©Î¨∏
                  </a>
                </div>
                <div class="modal-image-placeholder">
                  {% if project.image %}
                    <img src="{{ project.image }}" alt="{{ project.title }}">
                  {% else %}
                    <span>ÏõπÏÇ¨Ïù¥Ìä∏ Ïù¥ÎØ∏ÏßÄ</span>
                  {% endif %}
                </div>
              </div>
              <div class="modal-right">
                <h4>ÌîÑÎ°úÏ†ùÌä∏ ÏÑ§Î™Ö</h4>
                <ul>
                  {% for desc in project.description %}
                    <li>{{ desc }}</li>
                  {% endfor %}
                </ul>
              </div>
            </div>
          </div>
        </div>
      {% endfor %}

      <!-- Í∏∞Ïà† Ïä§ÌÉù -->
      <div class="portfolio-section" id="Í∏∞Ïà†-Ïä§ÌÉù">
        <h2 class="section-title">Í∏∞Ïà† Ïä§ÌÉù</h2>
        <div class="skills-grid">
          {% for skill in page.skills %}
            <div class="skill-category">
              <h4>{{ skill.category }}</h4>
              <ul class="skill-list">
                {% for item in skill.items %}
                  <li>{{ item }}</li>
                {% endfor %}
              </ul>
            </div>
          {% endfor %}
        </div>
      </div>

      <!-- Ïó∞ÎùΩÏ≤ò -->
      <div class="portfolio-section" id="Ïó∞ÎùΩÏ≤ò">
        <h2 class="section-title">Ïó∞ÎùΩÏ≤ò</h2>
        <div class="contact-info">
          {% for contact in page.contacts %}
            <div class="contact-item">
              <span>{{ contact.icon }}</span>
              <a href="{{ contact.url }}" target="_blank">{{ contact.text }}</a>
            </div>
          {% endfor %}
        </div>
      </div>
    </main>
  </div>

  <!-- ÌéòÏù¥ÏßÄÎ≥Ñ Ï∂îÍ∞Ä Ïä§ÌÅ¨Î¶ΩÌä∏ -->
  {% if page.custom_js %}
  {% for js in page.custom_js %}
  <script src="{{ js }}"></script>
  {% endfor %}
  {% endif %}

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      // .portfolio-container Î∞îÍπ•ÏúºÎ°ú .project-modal Îì§ÏùÑ Ïù¥Îèô
      document.querySelectorAll('.project-modal').forEach(function (modal) {
        document.body.appendChild(modal);
      });
    });
    document.querySelectorAll('.project-card').forEach(card => {
      card.addEventListener('click', function (e) {
        // ÎßÅÌÅ¨ ÌÅ¥Î¶≠ ÏãúÏóêÎäî Î™®Îã¨Ïù¥ Îú®ÏßÄ ÏïäÎèÑÎ°ù
        if (e.target.closest('a')) return;
        const modalId = card.getAttribute('data-modal-id');
        if (modalId) {
          document.getElementById(modalId).classList.add('active');
        }
      });
    });
    document.querySelectorAll('.modal-close').forEach(btn => {
      btn.addEventListener('click', function () {
        btn.closest('.project-modal').classList.remove('active');
      });
    });
    window.addEventListener('click', function (e) {
      document.querySelectorAll('.project-modal.active').forEach(modal => {
        if (e.target === modal) modal.classList.remove('active');
      });
    });
  </script>
</body>

</html>